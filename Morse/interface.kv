#:kivy 1.9.1
gui_layout:

<gui_layout>:
    id: interface
    orientation: 'vertical'
    #padding: [0,0,0,'50sp']
    display: output_text
    input_box: input_box
    sound_switch: sound_switch

    ActionBar:
        size_hint_y: None
        pos: ('center', 'top')

        ActionView:
            ActionPrevious:
                title: ''
                with_previous: False
            ActionOverflow:
                ActionButton:
                    text: "Settings"
                    on_press: app.open_settings()

                ActionButton:
                    text: 'help'
                    on_press:

                ActionButton:
                    text: 'Exit'
                    on_press: app.get_running_app().stop()

    Label:
        text: 'Morse code encoder'
        font_size: '30sp'
        size_hint_y: None
        height: '75dp'

    BoxLayout:
        orientation: 'horizontal'
        size_hint_y: None
        height: root.Height_One
        padding: ['25sp',0,'25sp',0]

        TextInput:
            id: input_box
            size_hint: (0.8, None)
            #width: '600sp'
            height: root.Height_One
            hint_text: 'What is your message?'
            multiline: False
            on_text_validate: interface.when_pressed(input_box.text)

        Button:
            size_hint: (0.2, None)
            height: root.Height_One
            text: 'Enter'
            on_press: interface.when_pressed(input_box.text)


    BoxLayout:
        orientation: 'horizontal'
        size_hint_y: None
        height: root.Height_One
        padding: ['25sp','25sp','25sp',0]

        Button:
            size_hint_y: None
            height: root.Height_One
            text: 'Replay Morse'
            on_press: interface.sounds()
            size_hint_x:0.3

        Label:
            text: 'Sound: '
            size_hint: (None,2.5)
            width: '80dp'

        Switch:
            id: sound_switch
            #orientation: 'vertical'
            #padding: [0,0,0,'15dp']
            size_hint: (0.1,2.5)
            active_norm_pos: 1
            on_active: interface.changevalue()

        Label:
            text: ''
            size_hint: (0.5, None)
            height: root.Height_One

        Button:
            text: 'Settings'
            size_hint: (0.2,None)
            height: root.Height_One

        Button:
            text: 'Help'
            size_hint: (0.3, None)
            height: root.Height_One
            on_press: popup_help.open()

    Label:
        id: output_text
        size_hint_y: None
        height: '300dp'
        #padding: [30,30,30,'75sp']

#<Popup1@Popup>:
#    # id: popup_help
#    title: 'Help'
#    size_hint: (None, None)
#    size: ('300dp', '200dp')
#    Label:
#        text: root.popupcontent